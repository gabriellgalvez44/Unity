<!DOCTYPE html>
<html lang=en theme=dark>
<head>
<title>Unity Scripts - GameControl.cs</title>
</head>
<body>
<section>
<button onclick="window.location.href='../index.html'"><- Back...</button>
</section>
<section>
<left>
<h1>GameControl.cs</h1>
<button onclick="window.open('https://drive.google.com/uc?export=download&id=1Oeu9Ut97u8DMN1bVxzHRuNofnmtMPgUw')">Download</button>
<h1>Version 8:</h1>
This script is used to manage aspects of your game and open a URL in your searching browser!
<h1>Method names:</h1>
LoadScene<br>
Log<br>
OpenURL<br>
CloseGame
</left>
<right>
<textarea readonly>using UnityEngine;
using UnityEngine.SceneManagement;
#if UNITY_EDITOR
using UnityEditor;
#endif

public class GameControl : MonoBehaviour
{
    [Header("Scene Settings")]
#if UNITY_EDITOR
    public SceneAsset[] scenesToLoadAsset;
#endif
    public int sceneNumber = 0;
    [HideInInspector]
    public string[] scenesToLoad;
    public GameObject[] persistentObjects;
    public float timeSpeed = 1f;
    [Header("Logging Settings")]
    public LogType logType = LogType.Normal;
    [TextArea] public string logText = "Enter your custom log message here";
    [Header("URL Settings")]
    public string url = "https://example.com";
    public enum LogType
    {
        Normal,
        Warning,
        Error
    }
    private void Awake()
    {
        if (persistentObjects != null)
        {
            for (int i = 0; i < persistentObjects.Length; i++)
            {
                if (persistentObjects[i] != null)
                {
                    DontDestroyOnLoad(persistentObjects[i]);
                }
            }
        }
    }
    void Update()
    {
        Time.timeScale = Mathf.Max(0f, timeSpeed);
    }
    public void LoadScene()
    {
        if (scenesToLoad == null || scenesToLoad.Length == 0)
        {
            Debug.LogError("No scenes assigned in the scenesToLoad array!");
            return;
        }
        if (sceneNumber < 0 || sceneNumber >= scenesToLoad.Length)
        {
            Debug.LogError("Scene number is out of range!");
            return;
        }
        string selectedScene = scenesToLoad[sceneNumber];
        if (string.IsNullOrEmpty(selectedScene))
        {
            Debug.LogError("Selected scene name is null or empty!");
            return;
        }
        string currentSceneName = SceneManager.GetActiveScene().name;
        if (selectedScene == currentSceneName)
        {
            SceneManager.LoadScene(currentSceneName);
        }
        else
        {
            SceneManager.LoadScene(selectedScene);
        }
    }
    public void Log()
    {
        switch (logType)
        {
            case LogType.Normal:
                Debug.Log(logText);
                break;
            case LogType.Warning:
                Debug.LogWarning(logText);
                break;
            case LogType.Error:
                Debug.LogError(logText);
                break;
            default:
                Debug.Log("Unknown log type!");
                break;
        }
    }
    public void OpenURL()
    {
        if (string.IsNullOrEmpty(url))
        {
            Debug.LogError("No URL assigned to open!");
            return;
        }
        Application.OpenURL(url);
    }
    public void CloseGame()
    {
#if UNITY_EDITOR
        EditorApplication.isPlaying = false;
#else
        Application.Quit();
#endif
    }
#if UNITY_EDITOR
    private void OnValidate()
    {
        if (scenesToLoadAsset != null && scenesToLoadAsset.Length > 0)
        {
            scenesToLoad = new string[scenesToLoadAsset.Length];
            for (int i = 0; i < scenesToLoadAsset.Length; i++)
            {
                if (scenesToLoadAsset[i] != null)
                {
                    string path = AssetDatabase.GetAssetPath(scenesToLoadAsset[i]);
                    scenesToLoad[i] = System.IO.Path.GetFileNameWithoutExtension(path);
                }
                else
                {
                    scenesToLoad[i] = "";
                }
            }
        }
        else
        {
            scenesToLoad = new string[0];
        }
    }
#endif
}</textarea>
</right>
</section>
</body>
<script src=https://gabriellgalvez44.github.io/Data/shorten.js></script>
<link rel=stylesheet href=../script.css>
</html>
